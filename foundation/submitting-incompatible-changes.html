<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=1000, initial-scale=1">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5W8DZRW');</script>
<!-- End Google Tag Manager -->

<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">
<link rel="dns-prefetch" href="//resources.jetbrains.com">


<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/assets/images/apple-touch-icon-144x144.png"/>

<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content=""/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://www.kotlincn.net/foundation/submitting-incompatible-changes.html"/>
<meta property="og:image" content="https://www.kotlincn.net/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description" content="">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="">
    <meta name="twitter:description" content="">
<meta name="twitter:image:src" content="https://www.kotlincn.net/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->


<link rel="stylesheet" href="/_assets/styles.css?&amp;v=69c23527b2c858b83879d528fb5770d2">

    <title>Guide to Submitting Incompatible Changes - Kotlin 语言中文站</title>

    <link rel="stylesheet" href="/_assets/common.css?&amp;v=d8b8aabbc5984eebed30b59359903b28"/>
</head>
<body class=" page-old-styled ">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5W8DZRW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="global-layout">
    <div class="global-header-panel banner-nav">
        <div class="g-layout">
<div class="global-nav banner-container">
    <a class="banner-text" href="https://item.jd.com/12695637.html" target="_blank">
        <div class="banner-item" style="margin-right:0px;">新书上架：</div>
        <div class="banner-item title" style="margin-right:0px;">
            《Kotlin编程实践》
        </div>
        <div class="banner-item" style="margin-right:8px;">本站译者乔禹昂译</div>
        <div class="banner-item underline" style="margin-right:0px;">购买</div>
    </a>
    <a class="banner-text" href="https://item.jd.com/12898592.html" target="_blank">
        <div class="banner-item title" style="margin-right:0px;">
            《深入理解Kotlin协程》
        </div>
        <div class="banner-item" style="margin-right:8px;">中文社区负责人霍丙乾著</div>
        <div class="banner-item underline" style="margin-right:0px;">购买</div>
    </a>
    <div class="close-head-banner"></div>
    <!--
    <a class="banner-text" href="https://kotlinlang.org/lp/event-14/" target="_blank">
        <div class="banner-item title">
            Join our Kotlin 1.4 Online Event on October 12–15 →
        </div>
    </a>
    <div class="close-head-banner"></div>
    -->
</div>        </div>
    </div>
<header class="global-header">
    <div class="global-header-panel">
        <div data-nosnippet="true" class="global-header-logo-box">
            <a class="global-header-logo" href="/">Kotlin</a> <a href="https://github.com/JetBrains/kotlin/releases/tag/v1.4.10" target="_blank" class="global-header-logo__version">v1.4.10</a>
        </div>
<nav class="global-nav">
    <ul class="nav-links">
        <li class="nav-item nav-item-solutions" data-tab-id="solutions">
            <span class="nav-item-link">Solutions</span>
            <div class="solutions-menu solutions-menu-is-hidden">
                <ul class="solutions-menu-list">
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link" href="/lp/mobile/"
                           target="_blank">Mobile cross-platform ↗</a></li>
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link" href="/lp/server-side/"
                           target="_blank">
                            Server-side ↗
                        </a></li>
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link"
                           href="/docs/reference/native-overview.html"
                           target="_blank">
                            Native
                        </a></li>
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link"
                           href="/docs/reference/js-overview.html"
                           target="_blank">Web development
                        </a></li>
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link"
                           href="/docs/reference/data-science-overview.html"
                           target="_blank">
                            Data science
                        </a></li>
                    <li class="solutions-menu-item">
                        <a class="solutions-menu-item-link solutions-menu-item-link-external"
                           href="/docs/reference/android-overview.html"
                           target="_blank">
                            Android</a>
                    </li>
                </ul>
            </div>
        </li>
            <li class="nav-item" data-tab-id="博客"><a href="https://www.kotliner.cn/"
                                                                   class="nav-item-link   nav-item-link-external"
 target="_blank" >
                博客
            </a>
            </li>
            <li class="nav-item" data-tab-id="论坛"><a href="https://discuss.kotliner.cn/"
                                                                   class="nav-item-link   nav-item-link-external"
 target="_blank" >
                论坛
            </a>
            </li>
            <li class="nav-item" data-tab-id="文档"><a href="/docs/reference/"
                                                                   class="nav-item-link  "
>
                文档
            </a>
            </li>
            <li class="nav-item" data-tab-id="社区"><a href="/community/"
                                                                   class="nav-item-link  "
>
                社区
            </a>
            </li>
            <li class="nav-item" data-tab-id="教学"><a href="/education/"
                                                                   class="nav-item-link  "
>
                教学
            </a>
            </li>
            <li class="nav-item" data-tab-id="演练"><a href="https://play.kotlinlang.org"
                                                                   class="nav-item-link   nav-item-link-external"
 target="_blank" >
                演练
            </a>
            </li>

    </ul>
    <div class="search-button">
        <div class="icon"></div>
    </div>
</nav>    </div>
</header>        <div class="g-layout global-content">

    <div class="g-grid">

        <aside class="g-3">
            <div class="js-side-tree-nav">
                         <div class="tree-item tree-leaf js-item js-leaf ">
                        <a href="/foundation/kotlin-foundation.html"
                           class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                        >
                            <span class="marker"></span>
                            <span class="text">Kotlin 基金会</span>
                        </a>
                </div>
                         <div class="tree-item tree-leaf js-item js-leaf ">
                        <a href="/foundation/language-committee-guidelines.html"
                           class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                        >
                            <span class="marker"></span>
                            <span class="text">语言委员会指南</span>
                        </a>
                </div>
                         <div class="tree-item tree-leaf js-item js-leaf ">
                        <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active ">
                            <div class="marker"></div>
                            <div class="text">提交不兼容的变更</div>
                        </div>
                </div>
                         <div class="tree-item tree-leaf js-item js-leaf ">
                        <a href="/foundation/guidelines.html"
                           class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                        >
                            <span class="marker"></span>
                            <span class="text">Kotlin 品牌使用指南</span>
                        </a>
                </div>
                         <div class="tree-item tree-leaf js-item js-leaf ">
                        <a href="/foundation/faq.html"
                           class="tree-item-title tree-leaf-title js-item-title js-leaf-title "
                        >
                            <span class="marker"></span>
                            <span class="text">FAQ</span>
                        </a>
                </div>
            </div>
        </aside>

        <article role="main" class="page-content g-9">

                
<h1 class="typo-header typo-h1" id="guide-to-submitting-incompatible-changes">Guide to Submitting Incompatible Changes</h1>
<p class="typo-para">A proposal is usually written by a developer responsible for the change or the relevant subsystems. It has to be described in the <a class="typo-link" href="https://youtrack.jetbrains.net/issues/KT?q=%23for-language-committee%20%23Unresolved%20tag:%20-language-committee-approved">issue tracker</a> and marked with the "for-language-committee" tag. To provide all the necessary details, issue in the tracker should follow the template below.</p>
<h1 class="typo-header typo-h1" id="issue-template">Issue template</h1>
<p class="typo-para">The issue should follow this template:</p>
<pre><code># Classification

Type of change: &lt;see guide below&gt;
Motivation types: &lt;see guide below&gt;
Impact types: &lt;see guide below&gt;
Detection and Migration modes: &lt;see guide below&gt;

# Background
&gt; Optional Section. Describe the background of the issue and possibly some motivation
# Existing behaviour
&gt; 1. (Minimal) code example
&gt; 2. What's wrong with it
&gt; 3. Detailed explanation of why and how this happens
&gt; 4. Any known reasoning behind such behavior
&gt; 5. Affected versions: when did the problem appear first? 

# Proposed changes
&gt; 1. Proposed changes
&gt; 2. How it fixes the issue?

# Impact
&gt; Examples of negative effects: changes of behavior, previously compiled code forbidden, etc.
&gt; If possible: 
&gt; * number of impacted users
&gt; * how common this pattern is
&gt; * if we believe it's a rare case, why
&gt; * is automated migration possible

# Migration plan
&gt; Provide a detailed step-by-step migration plan
&gt; Can the proposed changes be implemented immediately in the progressive mode?
</code></pre>
<h1 class="typo-header typo-h1" id="classification">Classification</h1>
<p class="typo-para">This section needs to classify the change, without describing its essence. The classification is used by the Committee to quickly assess the severity of the issue. Here are the common categories to be used.</p>
<p class="typo-para">This section can be used as a checklist of things that need to be evaluated/thought of.</p>
<h2 class="typo-header typo-h2" id="type-of-change">Type of change</h2>
<p class="typo-para">Specify one or more of the following:</p>
<ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">New errors are introduced</li>
<li class="typo-list__item">Some valid language constructs change their meaning</li>
<li class="typo-list__item">Change in the standard library
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">API removal
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Affecting ABI</li>
<li class="typo-list__item">Not affecting ABI</li>
</ul>
</li>
<li class="typo-list__item">API moved to different artifact</li>
<li class="typo-list__item">API type signature change
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Affecting ABI</li>
<li class="typo-list__item">Not affecting ABI</li>
</ul>
</li>
<li class="typo-list__item">Contract refinement</li>
<li class="typo-list__item">Other contract changes</li>
</ul>
</li>
<li class="typo-list__item">Change in compilation strategy
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Change in ABI</li>
<li class="typo-list__item">Change in the behavior of generated code</li>
</ul>
</li>
<li class="typo-list__item">Change in interoperability layer(s)</li>
</ul>
<h2 class="typo-header typo-h2" id="motivation-types">Motivation types</h2>
<p class="typo-para">Specify one or more of the following:</p>
<ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">User code fails with exception(s)</li>
<li class="typo-list__item">Compiler/Tooling fails with exception(s)</li>
<li class="typo-list__item">The implementation does not abide by a published spec or documentation</li>
<li class="typo-list__item">Type safety guarantees are not met (including fail-fast behavior for non-null types)</li>
<li class="typo-list__item">Separate/incremental compilation guarantees are not met</li>
<li class="typo-list__item">API stability guarantees are not met</li>
<li class="typo-list__item">ABI stability guarantees are not met</li>
<li class="typo-list__item">Implementation changes are required for implementation design/architectural reasons</li>
<li class="typo-list__item">Problematic/meaningless usage patterns need to be discouraged/blocked (e.g. counterintuitive behaviors)
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Code is error-prone</li>
<li class="typo-list__item">Code can't be compiled correctly</li>
</ul>
</li>
<li class="typo-list__item">Some prospective language changes are blocked</li>
<li class="typo-list__item">Inconsistency in the design (things are done differently in different contexts)</li>
<li class="typo-list__item">Redundant/outdated mechanism</li>
</ul>
<h2 class="typo-header typo-h2" id="impact-types">Impact types</h2>
<ul class="typo-list typo-list_type_simple">
<li class="typo-list__item"><strong class="typo-strong">Compilation</strong>. Some code that used to compile won't compile any more
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Such code always caused the compiler to fail with exception</li>
<li class="typo-list__item">Such code always threw an exception immediately upon execution or could not link</li>
<li class="typo-list__item">Such code inevitably caused exceptions to be thrown somewhere down the line after it was executed</li>
<li class="typo-list__item">There were cases when such code worked with no exceptions
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">There was a warning reported on all such code</li>
<li class="typo-list__item">Some such code could compile without any warnings</li>
</ul>
</li>
</ul>
</li>
<li class="typo-list__item"><strong class="typo-strong">Binaries</strong>. Some binary metadata will change after recompilation
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Internal (and maybe private) signatures
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">None of them could have been called from other languages</li>
<li class="typo-list__item">Some of them may have been callable from other languages (Java/JS/C/Swift/…)</li>
</ul>
</li>
<li class="typo-list__item">Public and/or protected signatures may change</li>
</ul>
</li>
<li class="typo-list__item"><strong class="typo-strong">Behavior</strong> changes
    <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Exceptions
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Some exceptions may change their type or place, but all code that ran without exceptions keeps doing so
            <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Some exceptions can be thrown earlier than before</li>
<li class="typo-list__item">Some exceptions can be thrown later than before</li>
<li class="typo-list__item">Some exceptions change their type, but not the point of execution at which they are thrown
                <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">The new type is a subtype of the old one</li>
<li class="typo-list__item">The new type is not a subtype of the old one</li>
</ul>
</li>
</ul>
</li>
<li class="typo-list__item">Some code that compiled and ran without exceptions will throw exceptions in the new version</li>
</ul>
</li>
<li class="typo-list__item">The behavior in question belongs under a previously released specification, contract or official documentation
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">By the contract, the old behavior is incorrect (thus a fix is needed)</li>
<li class="typo-list__item">The contract doesn't specify this behavior
            <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">The new behaviour needs to be specified</li>
<li class="typo-list__item">The new behavior will remain unspecified</li>
</ul>
</li>
<li class="typo-list__item">The new behavior contradicts the contract (i.e. the contract has to be changed)</li>
</ul>
</li>
</ul>
</li>
<li class="typo-list__item"><strong class="typo-strong">Performance and code size</strong>
<ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">Some code may run slower (including "small" changes like extra checks and indirections)</li>
<li class="typo-list__item">Some code may make more allocations or otherwise consume more memory</li>
<li class="typo-list__item">Code size may increase
        <ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">The increase in code size is constant regardless of the source</li>
<li class="typo-list__item">The increase in code size is proportional to some parameters of the source</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="typo-header typo-h2" id="detection-and-migration-modes">Detection and Migration modes</h2>
<ul class="typo-list typo-list_type_simple">
<li class="typo-list__item">All code locations affected by this change can be accurately detected statically</li>
<li class="typo-list__item">Some, but not all code locations affected by this change can be accurately detected statically</li>
<li class="typo-list__item">No code locations affected by this change can be accurately detected statically</li>
<li class="typo-list__item">Migration can be fully automated</li>
<li class="typo-list__item">Some automated migration is possible</li>
<li class="typo-list__item">Migration can't be automated</li>
</ul>

        </article>
    </div>
        </div>
<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-footer-layout">

            <div class="footer-info-block">
                <ul class="terms-social">
                    <li class="terms-social__item">
                        <a target="_blank" class="link visually-hidden" href="https://github.com/JetBrains/kotlin">
                            <img src="/assets/github-logo.svg" alt="GitHub logo"/></a>
                    </li>
                    <li class="terms-social__item terms-social__item_twitter">
                        <a target="_blank" class="link" href="https://twitter.com/kotlin">
                            <img src="/assets/twitter-logo.svg" alt="Twitter logo" height="16"/>
                        </a>
                    </li>
                    <li class="terms-social__item terms-social__item_slack">
                        <a target="_blank" class="link" href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up">
                            <img src="/assets/slack-logo.svg" alt="Slack logo"/>
                        </a>
                    </li>
                    <li class="terms-social__item terms-social__item_reddit">
                        <a target="_blank" class="link" href="https://www.reddit.com/r/Kotlin/">
                            <img src="/assets/reddit-logo.svg" alt="Reddit logo"/>
                        </a>
                    </li>
                    <li class="terms-social__item terms-social__item_bug-stackoverflow">
                        <a target="_blank" class="link" href="https://stackoverflow.com/questions/tagged/kotlin">
                            <img src="/assets/stackoverflow-logo.svg" alt="Stack Overflow logo"/>
                        </a>
                    </li>
                </ul>

                <div class="global-footer-row">
                    <a class="terms-kit" href="/contribute.html">向 Kotlin 贡献</a>
                    <span class="divider"></span>
                    <a class="terms-kit" href="/releases.html">发布版本</a>
                    <span class="divider"></span>
                    <a class="terms-kit" href=/assets/kotlin-media-kit.pdf>宣传资料</a>
                    <span class="divider"></span>
                    <a class="terms-kit" href="/security.html">安全</a>
                    <span class="divider"></span>
                    <a class="terms-kit"
                       target="_blank"
                       href="https://blog.jetbrains.com/kotlin/">博客</a>
                    <span class="divider"></span>
                    <a class="terms-kit"
                       target="_blank"
                       href="https://youtrack.jetbrains.com/issues/KT">问题追踪</a>
                </div>

                <div class="license-footer-row">
                    <div class="terms-foundation">
                        <span>Kotlin™ 商标受
                            <a class="terms-foundation_link"
                               href="https://kotlinlang.org/foundation/kotlin-foundation.html">
                        Kotlin 基金会
                            </a>保护并采用 <a class="terms-foundation_link"
                                                           href="https://github.com/JetBrains/kotlin-web-site/blob/master/LICENSE">
                                Apache 2 授权许可。</a> <span class="terms-sponsor-mobile"> Kotlin 与 Kotlin 官方英文站由 <a
                                    href="http://jetbrains.com"
                                    class="terms-foundation_link"
                                    target="_blank">JetBrains</a> 支持与开发</span>
                            <span class="terms-sponsor-mobile">
                                本站由<a href="https://hltj.me/" target="_blank" rel="nofollow">灰蓝天际</a>、
                                <a href="http://tanfujun.com" target="_blank" rel="nofollow">晓_晨DEV</a>、
                                <a href="https://github.com/qiaoyuang" target="_blank" rel="nofollow">乔禹昂</a>、
                                <a href="https://github.com/SpielbergGao" target="_blank" rel="nofollow">高金龙</a>、
                                <a href="https://github.com/HoshinoTented" target="_blank" rel="nofollow">HoshinoTented</a>、
                                <a href="https://www.liuwj.me" target="_blank" rel="nofollow">刘文俊</a>、
                                <a href="https://github.com/Hiwensen" target="_blank" rel="nofollow">常少威</a>、
                                <a href="https://github.com/Yue-plus" target="_blank" rel="nofollow">Yue-plus</a>、
                                <a href="https://github.com/Guolianxing" target="_blank" rel="nofollow">Guolianxing</a>
                                &nbsp;<a href="/contribute.html#中文站翻译贡献者" target="_blank" rel="nofollow">等</a>译
                            </span>
                        </span>
                    </div>

                    <div class="jetbrains-link-mobile">
                        <a href="http://jetbrains.com" target="_blank"></a>
                    </div>
                </div>
            </div>

            <div class="sponsored-block">
                <div class="terms-sponsor">
                    <!-- <a href="http://jetbrains.com" target="_blank">
                        <div class="jetbrains-link"></div>
                    </a> -->
                    <span>Kotlin 与 Kotlin 官方英文站由 <a href="http://jetbrains.com"
                                                        class="terms-foundation_link"
                                                        target="_blank">JetBrains</a> 支持与开发</span>
                    <span>
                        本站由<a href="https://hltj.me/" target="_blank" rel="nofollow">灰蓝天际</a>、
                        <a href="http://tanfujun.com" target="_blank" rel="nofollow">晓_晨DEV</a>、
                        <a href="https://github.com/qiaoyuang" target="_blank" rel="nofollow">乔禹昂</a>、
                        <a href="https://github.com/SpielbergGao" target="_blank" rel="nofollow">高金龙</a>、
                        <a href="https://github.com/HoshinoTented" target="_blank" rel="nofollow">HoshinoTented</a>、
                        <a href="https://www.liuwj.me" target="_blank" rel="nofollow">刘文俊</a>、
                        <a href="https://github.com/Hiwensen" target="_blank" rel="nofollow">常少威</a>、
                        <a href="https://github.com/Yue-plus" target="_blank" rel="nofollow">Yue-plus</a>、
                        <a href="https://github.com/Guolianxing" target="_blank" rel="nofollow">Guolianxing</a>
                        &nbsp;<a href="/contribute.html#中文站翻译贡献者" target="_blank" rel="nofollow">等</a>译
                    </span>
                </div>
            </div>

        </div>
    </div>

</footer></div>

<div class="search-popup _hidden" tabindex="1000">
    <div class="search-popup__content">
        <div class="search-popup__controls">
            <div class="search-popup__input"></div>
            <div class="search-popup__close">
                <div class="search-popup__close-icon-wrapper">
                    <div class="search-popup__close-icon"></div>
                </div>
                <div class="search-popup__close-text">esc</div>
            </div>
        </div>
        <div class="search-popup__results"></div>
    </div>
</div>
<script src="/_assets/common.js?&amp;v=f151420d75becf12606f53796dade4c6"></script>
</body>
</html>