<html>
<head>
<meta charset="utf-8">

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5P98');</script>
<!-- End Google Tag Manager -->


<title>Kotlin 中调用 Java - Kotlin 语言中文站</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/assets/images/apple-touch-icon-144x144.png"/>
<link rel="stylesheet" href="/0_assets/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="Kotlin 中调用 Java - Kotlin 语言中文站"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://www.kotlincn.net/docs/reference/java-interop.html"/>
<meta property="og:image" content="https://www.kotlincn.net/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description"
          content="Kotlin 针对是 JVM、Android 和浏览器的静态类型编程语言，可与 Java 进行 100％ 互操作">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="Kotlin 中调用 Java - Kotlin 语言中文站">
    <meta name="twitter:description"
          content="Kotlin 针对是 JVM、Android 和浏览器的静态类型编程语言，可与 Java 进行 100％ 互操作">
<meta name="twitter:image:src" content="https://www.kotlincn.net/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->
    <script src="/0_assets/default.js"></script>
    <script src="/0_assets/common.js"></script>
    <link rel="stylesheet" href="/0_assets/common.css"/>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P98"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<div class="global-layout">

<header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/">Kotlin</a>
<nav role="navigation" class="global-nav">

    <div class="nav-links">

            <a href="http://www.kotliner.cn/"
               class="nav-item "
            >
                博客
            </a>

            <a href="/docs/reference/"
               class="nav-item "
            >
                学习
            </a>

            <a href="/community/"
               class="nav-item "
            >
                社区
            </a>

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                在线试用
            </a>
    </div>


<div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div></nav>        </div>
        <a class="conference-banner" href="https://kotlinconf.com/?utm_source=kotlinlang&utm_medium=web&utm_campaign=superearlybird">
            <div class="conference-banner__img"></div>
        </a>
    </div>

    <div class="g-layout">
    </div>
</header>
    <div class="g-layout global-content">

    <nav role="navigation" class="docs-nav">
            <div class="nav-item-wrap">
                    <a href="/docs/reference/" class="nav-item is_active">
                        <span class="nav-item-text">
                            参考
                        </span>
                    </a>
            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/tutorials/" class="nav-item">
                    <span class="nav-item-text">
                        教程
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/books.html" class="nav-item">
                    <span class="nav-item-text">
                        书籍
                    </span>
                    </a>

            </div>
            <div class="nav-item-wrap">
                    <a href="/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        更多资源
                    </span>
                    </a>

            </div>
    </nav>

    <div class="g-grid">

        <aside class="g-3">
            <div class="js-side-tree-nav">
                    <nav role="navigation" class="side-tree-nav">
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="概述">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">概述</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/server-overview.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 用于服务器端</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/android-overview.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 用于 Android</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-overview.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 用于 JavaScript</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/whatsnew11.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">1.1 的新特性</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="开始">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">开始</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/basic-syntax.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基础语法</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/idioms.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">习惯用法</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/coding-conventions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">编码规范</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="基础">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">基础</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/basic-types.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">基本类型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/packages.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">包</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/control-flow.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">控制流</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/returns.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">返回和跳转</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="类和对象">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">类和对象</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类和继承</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">属性和字段</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/interfaces.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">接口</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/visibility-modifiers.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">可见性修饰符</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/extensions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">扩展</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/data-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">数据类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/sealed-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">密封类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/generics.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">泛型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/nested-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">嵌套类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/enum-classes.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">枚举类</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/object-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">对象</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/delegation.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委托</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/delegated-properties.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">委托属性</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="函数和 Lambda 表达式">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">函数和 Lambda 表达式</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">函数</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/lambdas.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Lambda 表达式</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/inline-functions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">内联函数</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/coroutines.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">协程</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="其他">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">其他</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/multi-declarations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">解构声明</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/collections.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">集合</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/ranges.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">区间</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/typecasts.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类型检查与转换</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/this-expressions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">This 表达式</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/equality.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">相等性</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/operator-overloading.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">操作符重载</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/null-safety.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">空安全</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/exceptions.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">异常</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/annotations.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">注解</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">反射</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/type-safe-builders.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类型安全的构建器</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/type-aliases.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">类型别名</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="核心库">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">核心库</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="https://kotlinlang.org/api/latest/jvm/stdlib/index.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">标准库</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="https://kotlinlang.org/api/latest/kotlin.test/index.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">kotlin.test</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="参考">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">参考</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/grammar.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">语法</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/compatibility.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">兼容性</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _opened"
                 data-id="Java 互操作">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Java 互操作</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                                <div class="marker"></div>
                                <div class="text">Kotlin 中调用 Java</div>
                            </div>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/java-to-kotlin-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Java 中调用 Kotlin</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="JavaScript">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">JavaScript</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/dynamic-type.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">动态类型</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 中调用 JavaScript</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-to-kotlin-interop.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript 中调用 Kotlin</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-modules.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript 模块</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/js-reflection.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">JavaScript 反射</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="工具">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">工具</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/kotlin-doc.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">编写 Kotlin 代码文档</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/kapt.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Kapt</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-gradle.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Gradle</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-maven.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Maven</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/using-ant.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">使用 Ant</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/kotlin-osgi.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin 与 OSGi</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/compiler-plugins.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">编译器插件</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="常见问题">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">常见问题</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/faq.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">FAQ</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/comparison-to-java.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">与 Java 比较</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/docs/reference/comparison-to-scala.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">与 Scala 比较【官方已删除】</span>
                            </a>
                    </div>

            </div>
    </nav>


                <ul>
                  <li><a href="/docs/kotlin-docs.pdf" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">完整 Kotlin 参考（PDF）</span>
                  </a></li>
                  <li><a href="https://www.gitbook.com/download/pdf/book/hltj/kotlin-reference-chinese" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">完整 Kotlin 参考（字大PDF）</span>
                  </a></li>
                  <li><a href="https://www.gitbook.com/download/epub/book/hltj/kotlin-reference-chinese" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">完整 Kotlin 参考（ePUB）</span>
                  </a></li>
                  <li><a href="https://www.gitbook.com/download/mobi/book/hltj/kotlin-reference-chinese" class="reference-pdf-link">
                    <span class="icon"></span>
                    <span class="text">完整 Kotlin 参考（Mobi）</span>
                  </a></li>
                </ul>
            </div>
        </aside>

        <article role="main" class="page-content g-9">
<a href="https://github.com/hltj/kotlin-web-site-cn/edit/master/pages/docs/reference/java-interop.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>
                
<h1 id="在-kotlin-中调用-java-代码">在 Kotlin 中调用 Java 代码</h1>
<p>Kotlin 在设计时就考虑了 Java 互操作性。可以从 Kotlin 中自然地调用现存的 Java 代码，并且在 Java 代码中也可以<!--
-->很顺利地调用 Kotlin 代码。在本节中我们会介绍从 Kotlin 中调用 Java 代码的一些细节。</p>
<p>几乎所有 Java 代码都可以使用而没有任何问题</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">import java.util.*

fun demo(source: List&lt;Int&gt;) {
    val list = ArrayList&lt;Int&gt;()
    // “for”-循环用于 Java 集合：
    for (item in source) {
        list.add(item)
    }
    // 操作符约定同样有效：
    for (i in 0..source.size() - 1) {
        list[i] = source[i] // 调用 get 和 set
    }
}
</code></pre>
<h2 id="getter-和-setter">Getter 和 Setter</h2>
<p>遵循 Java 约定的 getter 和 setter 的方法（名称以 <code>get</code> 开头的无参数方法和<!--
-->以 <code>set</code> 开头的单参数方法）在 Kotlin 中表示为属性。 例如：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">import java.util.Calendar

fun calendarDemo() {
    val calendar = Calendar.getInstance()
    if (calendar.firstDayOfWeek == Calendar.SUNDAY) {  // 调用 getFirstDayOfWeek()
        calendar.firstDayOfWeek = Calendar.MONDAY       // 调用 setFirstDayOfWeek()
    }
}
</code></pre>
<p>请注意，如果 Java 类只有一个 setter，它在 Kotlin 中不会作为属性可见，因为 Kotlin 目前不支持只写（set-only）属性。</p>
<h2 id="返回-void-的方法">返回 void 的方法</h2>
<p>如果一个 Java 方法返回 void，那么从 Kotlin 调用时中返回 <code>Unit</code>。
万一有人使用其返回值，它将由 Kotlin 编译器在调用处赋值，
因为该值本身是预先知道的（是 <code>Unit</code>）。</p>
<h2 id="将-kotlin-中是关键字的-java-标识符进行转义">将 Kotlin 中是关键字的 Java 标识符进行转义</h2>
<p>一些 Kotlin 关键字在 Java 中是有效标识符：<em class="keyword">in</em>、 <em class="keyword">object</em>、 <em class="keyword">is</em> 等等。
如果一个 Java 库使用了 Kotlin 关键字作为方法，你仍然可以通过反引号（`）字符转义它<!--
-->来调用该方法</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">foo.`is`(bar)
</code></pre>
<h2 id="空安全和平台类型">空安全和平台类型</h2>
<p>Java 中的任何引用都可能是 <em class="keyword">null</em>，这使得 Kotlin 对来自 Java 的对象要求严格空安全是不现实的。
Java 声明的类型在 Kotlin 中会被特别对待并称为<em>平台类型</em>。对这种类型的空检查会放宽，
因此它们的安全保证与在 Java 中相同（更多请参见<a href="#已映射类型">下文</a>）。</p>
<p>考虑以下示例：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val list = ArrayList&lt;String&gt;() // 非空（构造函数结果）
list.add("Item")
val size = list.size() // 非空（原生 int）
val item = list[0] // 推断为平台类型（普通 Java 对象）
</code></pre>
<p>当我们调用平台类型变量的方法时，Kotlin 不会在编译时报告可空性错误，
但在运行时调用可能会失败，因为空指针异常或者 Kotlin 生成的阻止空值传播的断言：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">item.substring(1) // 允许，如果 item == null 可能会抛出异常
</code></pre>
<p>平台类型是<em>不可标示</em>的，意味着不能在语言中明确地写下它们。
当把一个平台值赋值给一个 Kotlin 变量时，可以依赖类型推断（该变量会具有推断出的的平台类型，
如上例中 <code>item</code> 所具有的类型），或者我们可以选择我们期望的类型（可空或非空类型均可）：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val nullable: String? = item // 允许，没有问题
val notNull: String = item // 允许，运行时可能失败
</code></pre>
<p>如果我们选择非空类型，编译器会在赋值时触发一个断言。这防止 Kotlin 的非空变量保存<!--
-->空值。当我们把平台值传递给期待非空值等的 Kotlin 函数时，也会触发断言。
总的来说，编译器尽力阻止空值通过程序向远传播（尽管鉴于泛型的原因，有时这<!--
-->不可能完全消除）。</p>
<h3 id="平台类型表示法">平台类型表示法</h3>
<p>如上所述，平台类型不能在程序中显式表述，因此在语言中没有相应语法。
然而，编译器和 IDE 有时需要（在错误信息中、参数信息中等）显示他们，所以我们用<!--
-->一个助记符来表示他们：</p>
<ul>
<li><code>T!</code> 表示“<code>T</code> 或者 <code>T?</code>”，</li>
<li><code>(Mutable)Collection&lt;T&gt;!</code> 表示“可以可变或不可变、可空或不可空的 <code>T</code> 的 Java 集合”，</li>
<li><code>Array&lt;(out) T&gt;!</code> 表示“可空或者不可空的 <code>T</code>（或 <code>T</code> 的子类型）的 Java 数组”</li>
</ul>
<h3 id="可空性注解">可空性注解</h3>
<p>具有可空性注解的Java类型并不表示为平台类型，而是表示为实际可空或非空的
Kotlin 类型。编译器支持多种可空性注解，包括：</p>
<ul>
<li><a href="https://www.jetbrains.com/idea/help/nullable-and-notnull-annotations.html">JetBrains</a>
（<code>org.jetbrains.annotations</code> 包中的  <code>@Nullable</code> 和 <code>@NotNull</code>）</li>
<li>Android（<code>com.android.annotations</code> 和 <code>android.support.annotations</code>)</li>
<li>JSR-305（<code>javax.annotation</code>）</li>
<li>FindBugs（<code>edu.umd.cs.findbugs.annotations</code>）</li>
<li>Eclipse（<code>org.eclipse.jdt.annotation</code>）</li>
<li>Lombok（<code>lombok.NonNull</code>）。</li>
</ul>
<p>你可以在 <a href="https://github.com/JetBrains/kotlin/blob/master/core/descriptor.loader.java/src/org/jetbrains/kotlin/load/java/JvmAnnotationNames.kt">Kotlin 编译器源代码</a>中找到完整的列表。</p>
<h2 id="已映射类型">已映射类型</h2>
<p>Kotlin 特殊处理一部分 Java 类型。这样的类型不是“按原样”从 Java 加载，而是 <em>映射</em> 到相应的 Kotlin 类型。
映射只发生在编译期间，运行时表示保持不变。
Java 的原生类型映射到相应的 Kotlin 类型（请记住<a href="#空安全和平台类型">平台类型</a>）：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java 类型</strong></th>
<th><strong>Kotlin 类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>byte</code></td>
<td><code>kotlin.Byte</code></td>
</tr>
<tr>
<td><code>short</code></td>
<td><code>kotlin.Short</code></td>
</tr>
<tr>
<td><code>int</code></td>
<td><code>kotlin.Int</code></td>
</tr>
<tr>
<td><code>long</code></td>
<td><code>kotlin.Long</code></td>
</tr>
<tr>
<td><code>char</code></td>
<td><code>kotlin.Char</code></td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>kotlin.Float</code></td>
</tr>
<tr>
<td><code>double</code></td>
<td><code>kotlin.Double</code></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td><code>kotlin.Boolean</code></td>
</tr>
</tbody>
</table>
<p>一些非原生的内置类型也会作映射：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java 类型</strong></th>
<th><strong>Kotlin 类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>java.lang.Object</code></td>
<td><code>kotlin.Any!</code></td>
</tr>
<tr>
<td><code>java.lang.Cloneable</code></td>
<td><code>kotlin.Cloneable!</code></td>
</tr>
<tr>
<td><code>java.lang.Comparable</code></td>
<td><code>kotlin.Comparable!</code></td>
</tr>
<tr>
<td><code>java.lang.Enum</code></td>
<td><code>kotlin.Enum!</code></td>
</tr>
<tr>
<td><code>java.lang.Annotation</code></td>
<td><code>kotlin.Annotation!</code></td>
</tr>
<tr>
<td><code>java.lang.Deprecated</code></td>
<td><code>kotlin.Deprecated!</code></td>
</tr>
<tr>
<td><code>java.lang.CharSequence</code></td>
<td><code>kotlin.CharSequence!</code></td>
</tr>
<tr>
<td><code>java.lang.String</code></td>
<td><code>kotlin.String!</code></td>
</tr>
<tr>
<td><code>java.lang.Number</code></td>
<td><code>kotlin.Number!</code></td>
</tr>
<tr>
<td><code>java.lang.Throwable</code></td>
<td><code>kotlin.Throwable!</code></td>
</tr>
</tbody>
</table>
<p>Java 的装箱原始类型映射到可空的 Kotlin 类型：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java type</strong></th>
<th><strong>Kotlin type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>java.lang.Byte</code></td>
<td><code>kotlin.Byte?</code></td>
</tr>
<tr>
<td><code>java.lang.Short</code></td>
<td><code>kotlin.Short?</code></td>
</tr>
<tr>
<td><code>java.lang.Integer</code></td>
<td><code>kotlin.Int?</code></td>
</tr>
<tr>
<td><code>java.lang.Long</code></td>
<td><code>kotlin.Long?</code></td>
</tr>
<tr>
<td><code>java.lang.Character</code></td>
<td><code>kotlin.Char?</code></td>
</tr>
<tr>
<td><code>java.lang.Float</code></td>
<td><code>kotlin.Float?</code></td>
</tr>
<tr>
<td><code>java.lang.Double</code></td>
<td><code>kotlin.Double?</code></td>
</tr>
<tr>
<td><code>java.lang.Boolean</code></td>
<td><code>kotlin.Boolean?</code></td>
</tr>
</tbody>
</table>
<p>请注意，用作类型参数的装箱原始类型映射到平台类型：
例如，<code>List&lt;java.lang.Integer&gt;</code> 在 Kotlin 中会成为 <code>List&lt;Int!&gt;</code>。</p>
<p>集合类型在 Kotlin 中可以是只读的或可变的，因此 Java 集合类型作如下映射：
（下表中的所有 Kotlin 类型都驻留在 <code>kotlin.collections</code>包中）:</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java 类型</strong></th>
<th><strong>Kotlin 只读类型</strong></th>
<th><strong>Kotlin 可变类型</strong></th>
<th><strong>加载的平台类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Iterator&lt;T&gt;</code></td>
<td><code>Iterator&lt;T&gt;</code></td>
<td><code>MutableIterator&lt;T&gt;</code></td>
<td><code>(Mutable)Iterator&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Iterable&lt;T&gt;</code></td>
<td><code>Iterable&lt;T&gt;</code></td>
<td><code>MutableIterable&lt;T&gt;</code></td>
<td><code>(Mutable)Iterable&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Collection&lt;T&gt;</code></td>
<td><code>Collection&lt;T&gt;</code></td>
<td><code>MutableCollection&lt;T&gt;</code></td>
<td><code>(Mutable)Collection&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Set&lt;T&gt;</code></td>
<td><code>Set&lt;T&gt;</code></td>
<td><code>MutableSet&lt;T&gt;</code></td>
<td><code>(Mutable)Set&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>List&lt;T&gt;</code></td>
<td><code>List&lt;T&gt;</code></td>
<td><code>MutableList&lt;T&gt;</code></td>
<td><code>(Mutable)List&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>ListIterator&lt;T&gt;</code></td>
<td><code>ListIterator&lt;T&gt;</code></td>
<td><code>MutableListIterator&lt;T&gt;</code></td>
<td><code>(Mutable)ListIterator&lt;T&gt;!</code></td>
</tr>
<tr>
<td><code>Map&lt;K, V&gt;</code></td>
<td><code>Map&lt;K, V&gt;</code></td>
<td><code>MutableMap&lt;K, V&gt;</code></td>
<td><code>(Mutable)Map&lt;K, V&gt;!</code></td>
</tr>
<tr>
<td><code>Map.Entry&lt;K, V&gt;</code></td>
<td><code>Map.Entry&lt;K, V&gt;</code></td>
<td><code>MutableMap.MutableEntry&lt;K,V&gt;</code></td>
<td><code>(Mutable)Map.(Mutable)Entry&lt;K, V&gt;!</code></td>
</tr>
</tbody>
</table>
<p>Java 的数组按<a href="java-interop.html#java-数组">下文</a>所述映射：</p>
<table class="zebra">
<thead>
<tr>
<th><strong>Java 类型</strong></th>
<th><strong>Kotlin 类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>int[]</code></td>
<td><code>kotlin.IntArray!</code></td>
</tr>
<tr>
<td><code>String[]</code></td>
<td><code>kotlin.Array&lt;(out) String&gt;!</code></td>
</tr>
</tbody>
</table>
<h2 id="kotlin-中的-java-泛型">Kotlin 中的 Java 泛型</h2>
<p>Kotlin 的泛型与 Java 有点不同（参见<a href="generics.html">泛型</a>）。当将 Java 类型导入 Kotlin 时，我们会执行一些转换：</p>
<ul>
<li>Java 的通配符转换成类型投影
    <ul>
<li><code>Foo&lt;? extends Bar&gt;</code> 转换成 <code>Foo&lt;out Bar!&gt;!</code></li>
<li><code>Foo&lt;? super Bar&gt;</code> 转换成 <code>Foo&lt;in Bar!&gt;!</code></li>
</ul>
</li>
<li>Java的原始类型转换成星投影
    <ul>
<li><code>List</code> 转换成 <code>List&lt;*&gt;!</code>，即 <code>List&lt;out Any?&gt;!</code></li>
</ul>
</li>
</ul>
<p>和 Java 一样，Kotlin 在运行时不保留泛型，即对象不携带传递到他们构造器中的那些类型参数的实际类型。
即 <code>ArrayList&lt;Integer&gt;()</code> 和 <code>ArrayList&lt;Character&gt;()</code> 是不能区分的。
这使得执行 <em class="keyword">is</em>-检测不可能照顾到泛型。
Kotlin 只允许 <em class="keyword">is</em>-检测星投影的泛型类型：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (a is List&lt;Int&gt;) // 错误：无法检查它是否真的是一个 Int 列表
// but
if (a is List&lt;*&gt;) // OK：不保证列表的内容
</code></pre>
<h3 id="java-数组">Java 数组</h3>
<p>与 Java 不同，Kotlin 中的数组是不型变的。这意味着 Kotlin 不允许我们把一个 <code>Array&lt;String&gt;</code> 赋值给一个 <code>Array&lt;Any&gt;</code>，
从而避免了可能的运行时故障。Kotlin 也禁止我们把一个子类的数组当做超类的数组传递给 Kotlin 的方法，
但是对于 Java 方法，这是允许的（通过 <code>Array&lt;(out) String&gt;!</code> 这种形式的<a href="#空安全和平台类型">平台类型</a>）。</p>
<p>Java 平台上，数组会使用原生数据类型以避免装箱/拆箱操作的开销。
由于 Kotlin 隐藏了这些实现细节，因此需要一个变通方法来与 Java 代码进行交互。
对于每种原生类型的数组都有一个特化的类（<code>IntArray</code>、 <code>DoubleArray</code>、 <code>CharArray</code> 等等）来处理这种情况。
它们与 <code>Array</code> 类无关，并且会编译成 Java 原生类型数组以获得最佳性能。</p>
<p>假设有一个接受 int 数组索引的 Java 方法：</p>
<pre><code class="code _highlighted" data-lang="text/x-java">public class JavaArrayExample {

    public void removeIndices(int[] indices) {
        // 在此编码……
    }
}
</code></pre>
<p>在 Kotlin 中你可以这样传递一个原生类型的数组：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val javaObj = JavaArrayExample()
val array = intArrayOf(0, 1, 2, 3)
javaObj.removeIndices(array)  // 将 int[] 传给方法
</code></pre>
<p>当编译为 JVM 字节代码时，编译器会优化对数组的访问，这样就不会引入任何开销：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val array = arrayOf(1, 2, 3, 4)
array[x] = array[x] * 2 // 不会实际生成对 get() 和 set() 的调用
for (x in array) { // 不会创建迭代器
    print(x)
}
</code></pre>
<p>即使当我们使用索引定位时，也不会引入任何开销</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">for (i in array.indices) {// 不会创建迭代器
    array[i] += 2
}
</code></pre>
<p>最后，<em class="keyword">in</em>-检测也没有额外开销</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (i in array.indices) { // 同 (i &gt;= 0 &amp;&amp; i &lt; array.size)
    print(array[i])
}
</code></pre>
<h2 id="java-可变参数">Java 可变参数</h2>
<p>Java 类有时声明一个具有可变数量参数（varargs）的方法来使用索引。</p>
<pre><code class="code _highlighted" data-lang="text/x-java">public class JavaArrayExample {

    public void removeIndices(int... indices) {
        // 在此编码……
    }
}
</code></pre>
<p>在这种情况下，你需要使用展开运算符 <code>*</code> 来传递 <code>IntArray</code>：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val javaObj = JavaArray()
val array = intArrayOf(0, 1, 2, 3)
javaObj.removeIndicesVarArg(*array)
</code></pre>
<p>目前无法传递 <em class="keyword">null</em> 给一个声明为可变参数的方法。</p>
<h2 id="操作符">操作符</h2>
<p>由于 Java 无法标记用于运算符语法的方法，Kotlin 允许<!--
-->具有正确名称和签名的任何 Java 方法作为运算符重载和其他约定（<code>invoke()</code> 等）使用。
不允许使用中缀调用语法调用 Java 方法。</p>
<h2 id="受检异常">受检异常</h2>
<p>在 Kotlin 中，所有异常都是非受检的，这意味着编译器不会强迫你捕获其中的任何一个。
因此，当你调用一个声明受检异常的 Java 方法时，Kotlin 不会强迫你做任何事情：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun render(list: List&lt;*&gt;, to: Appendable) {
    for (item in list) {
        to.append(item.toString()) // Java 会要求我们在这里捕获 IOException
    }
}
</code></pre>
<h2 id="对象方法">对象方法</h2>
<p>当 Java 类型导入到 Kotlin 中时，类型 <code>java.lang.Object</code> 的所有引用都成了 <code>Any</code>。
而因为 <code>Any</code> 不是平台指定的，它只声明了 <code>toString()</code>、<code>hashCode()</code> 和 <code>equals()</code> 作为其成员，
所以为了能用到 <code>java.lang.Object</code> 的其他成员，Kotlin 要用到<a href="extensions.html">扩展函数</a>。</p>
<h3 id="waitnotify">wait()/notify()</h3>
<p><a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a> 第 69 条善意地建议优先使用并发工具（concurrency utilities）而不是 <code>wait()</code> 和 <code>notify()</code>。
因此，类型 <code>Any</code> 的引用不提供这两个方法。
如果你真的需要调用它们的话，你可以将其转换为 <code>java.lang.Object</code>：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">(foo as java.lang.Object).wait()
</code></pre>
<h3 id="getclass">getClass()</h3>
<p>要取得对象的 Java 类，请在<a href="reflection.html#类引用">类引用</a>上使用 <code>java</code> 扩展属性。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val fooClass = foo::class.java
</code></pre>
<p>上面的代码使用了自 Kotlin 1.1 起支持的<a href="reflection.html#绑定的类引用（自-11-起）">绑定的类引用</a>。你也可以使用 <code>javaClass</code> 扩展属性。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val fooClass = foo.javaClass
</code></pre>
<h3 id="clone">clone()</h3>
<p>要覆盖 <code>clone()</code>，需要继承 <code>kotlin.Cloneable</code>：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">
class Example : Cloneable {
    override fun clone(): Any { …… }
}
</code></pre>
<p>不要忘记 <a href="http://www.oracle.com/technetwork/java/effectivejava-136174.html">Effective Java</a> 的第 11 条: <em>谨慎地改写clone</em>。</p>
<h3 id="finalize">finalize()</h3>
<p>要覆盖 <code>finalize()</code>，所有你需要做的就是简单地声明它，而不需要 <em class="keyword">override</em> 关键字：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">class C {
    protected fun finalize() {
        // 终止化逻辑
    }
}
</code></pre>
<p>根据 Java 的规则，<code>finalize()</code> 不能是 <em class="keyword">private</em> 的。</p>
<h2 id="从-java-类继承">从 Java 类继承</h2>
<p>在 kotlin 中，类的超类中最多只能有一个 Java 类（以及按你所需的多个 Java 接口）。</p>
<h2 id="访问静态成员">访问静态成员</h2>
<p>Java 类的静态成员会形成该类的“伴生对象”。我们无法将这样的“伴生对象”作为值来传递，
但可以显式访问其成员，例如：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">if (Character.isLetter(a)) {
    // ……
}
</code></pre>
<h2 id="java-反射">Java 反射</h2>
<p>Java 反射适用于 Kotlin 类，反之亦然。如上所述，你可以使用 <code>instance::class.java</code>,
<code>ClassName::class.java</code> 或者 <code>instance.javaClass</code> 通过 <code>java.lang.Class</code> 来进入 Java 反射。</p>
<p>其他支持的情况包括为一个 Kotlin 属性获取一个 Java 的 getter/setter 方法或者幕后字段、为一个 Java 字段获取一个 <code>KProperty</code>、为一个 <code>KFunction</code> 获取一个 Java 方法或者构造函数，反之亦然。</p>
<h2 id="sam-转换">SAM 转换</h2>
<p>就像 Java 8 一样，Kotlin 支持 SAM 转换。这意味着 Kotlin 函数字面值可以被自动的转换成<!--
-->只有一个非默认方法的 Java 接口的实现，只要这个方法的参数类型<!--
-->能够与这个 Kotlin 函数的参数类型相匹配。</p>
<p>你可以这样创建 SAM 接口的实例：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val runnable = Runnable { println("This runs in a runnable") }
</code></pre>
<p>……以及在方法调用中：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">val executor = ThreadPoolExecutor()
// Java 签名：void execute(Runnable command)
executor.execute { println("This runs in a thread pool") }
</code></pre>
<p>如果 Java 类有多个接受函数式接口的方法，那么可以通过使用<!--
-->将 lambda 表达式转换为特定的 SAM 类型的适配器函数来选择需要调用的方法。这些适配器函数也会按需<!--
-->由编译器生成。</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">executor.execute(Runnable { println("This runs in a thread pool") })
</code></pre>
<p>请注意，SAM 转换只适用于接口，而不适用于抽象类，即使这些抽象类也只有一个<!--
-->抽象方法。</p>
<p>还要注意，此功能只适用于 Java 互操作；因为 Kotlin 具有合适的函数类型，所以不需要将函数自动转换<!--
-->为 Kotlin 接口的实现，因此不受支持。</p>
<h2 id="在-kotlin-中使用-jni">在 Kotlin 中使用 JNI</h2>
<p>要声明一个在本地（C 或 C++）代码中实现的函数，你需要使用 <code>external</code> 修饰符来标记它：</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">external fun foo(x: Int): Double
</code></pre>
<p>其余的过程与 Java 中的工作方式完全相同。</p>

        </article>
    </div>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                Licensed under the <a href="https://github.com/JetBrains/kotlin-web-site/blob/master/LICENSE">Apache 2 license</a>
            </div>

            <div class="terms-sponsor">
            Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            由<a href="https://hltj.me/" class="testimonial-company-link" target="_blank" rel="nofollow">灰蓝天际</a>、<a href="http://tanfujun.com" class="testimonial-company-link" target="_blank" rel="nofollow">晓_晨DEV</a> <a href="/contribute.html#中文站翻译贡献者" class="testimonial-company-link" target="_blank" rel="nofollow">等</a>译
            </div>
        </div>
    </div>

</footer>
</body>
</html>